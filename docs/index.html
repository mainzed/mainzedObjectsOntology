<html>
<head>
<title>Widoco Classtree</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
<script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"/>
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />
 <style>
 html {
    position: relative;
    min-height: 100%;
}
.fill { 
	max-height: 95%;
    min-height: 95%;
    height: 95%;
}
</style>
</head>
<body>
<header id="header">
<h1 align="center">OntologyView</h1>
</header>
<div class="container-fluid fill" role="main"><div class="row fill">
<div class="col-sm-4 fill">
Search Classes: <input id="search-input" class="search-input" />
<br />
<div id="jstree_demo_div" class="overflow-auto" style="height:45%">Loading tree...</div>
<hr/>
Search Properties: <input id="search-input" class="search-input2" />
<br />
<div id="jstree_demo_div2" class="overflow-auto" style="height:45%">Loading tree...</div>
</div>
<div class="col-sm-8" style="min-height:100%;height:100%">
<iframe width="100%" height="100%" id="ontview" src="index-en.html">
</iframe>
</div></div></div>
<!--
<button onClick="genclassTree()">
Generate Class Tree</button>-->
<footer id="footer">
</footer>
</body>
<script src="classtree.js"></script>
<script>
function goToId(id) {
    var iframe = document.getElementById("ontview").contentWindow.location.hash=id;
    /*var src = iframe.src;
    if(src.indexOf('#') >= 0) src = src.substr(0, src.indexOf("#"));
    iframe.src = src + "#" + id;
	console.log(iframe.src)
	console.log(src + "#" + id);*/
}
function genclassTree(){
	$('#jstree_demo_div').jstree(generateClassTree("class","has super-classes"));
	$('#jstree_demo_div2').jstree(generateClassTree("object property","has super-properties"));
	$("#jstree_demo_div").on(
        "select_node.jstree", function(evt, data){
			console.log(data)
			console.log(data.node.id)
			goToId(data.node.id)
            //selected node object: data.node;
        }
	);
	$("#jstree_demo_div2").on(
        "select_node.jstree", function(evt, data){
			console.log(data)
			console.log(data.node.id)
			goToId(data.node.id)
            //selected node object: data.node;
        }
	);
}
$('#ontview').on('load', function(){genclassTree()});
 $(".search-input").keyup(function () {
      var searchString = $(this).val();
     $('#jstree_demo_div').jstree('search', searchString);
 });
  $(".search-input2").keyup(function () {
      var searchString = $(this).val();
     $('#jstree_demo_div2').jstree('search', searchString);
 });
</script>
</html>